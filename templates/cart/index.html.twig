{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/shop/panier.css') }}?v=1.0">
{% endblock %}

{% block body %}
<h1>Votre Panier</h1>
<table>
    <thead>
        <tr>
            <th></th>
            <th>Nom</th>
            <th>Prix</th>
            <th>Taille</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for key, item in cart %}
            {% for key, item in cart %}
    <div class="cart-item">
        <div class="cart-image">
            <img src="{{ asset(item.image) }}" alt="{{ item.name }}">
        </div>
        <div class="cart-details">
            <h3>{{ item.name }}</h3>
            <p>Prix : {{ item.price }} €</p>
            <p>Taille : {{ item.size is defined ? item.size : 'Non spécifiée' }}</p>
        </div>
        <div class="cart-actions">
            <!-- Formulaire pour supprimer l'article -->
            <form action="{{ path('cart_remove', { id: key }) }}" method="post">
                <button type="submit">Supprimer</button>
            </form>
        </div>
    </div>
{% else %}
    <p>Votre panier est vide.</p>
{% endfor %}
        {% endfor %}
    </tbody>
</table>

<p>Total : {{ totalPrice }} €</p>

{% if cart is not empty %}
    <a href="{{ path('app_checkout')}}" class="btn btn-primary">Payer avec Stripe</a>
{% endif %}
{% endblock %}